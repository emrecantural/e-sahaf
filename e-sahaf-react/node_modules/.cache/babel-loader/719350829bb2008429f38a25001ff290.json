{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.inPath = inPath;\nexports.clean = clean;\nexports.isQuoted = isQuoted;\nexports.reduce = reduce;\nexports.trim = trim;\n\nvar _propertyExpr = _interopRequireDefault(require(\"property-expr\"));\n\nvar _uniq = _interopRequireDefault(require(\"lodash/uniq\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction inPath(basePath, childPath) {\n  if (basePath === childPath) return true;\n  var partsA = _propertyExpr.default.split(basePath) || [],\n      partsB = _propertyExpr.default.split(childPath) || [];\n  if (partsA.length > partsB.length) return false;\n  return partsA.every(function (part, idx) {\n    return clean(part) === clean(partsB[idx]);\n  });\n}\n\nfunction clean(part) {\n  return isQuoted(part) ? part.substr(1, part.length - 2) : part;\n}\n\nfunction isQuoted(str) {\n  return typeof str === 'string' && str && (str[0] === '\"' || str[0] === \"'\");\n}\n\nfunction reduce(paths) {\n  paths = (0, _uniq.default)(paths == null ? [] : [].concat(paths));\n  if (paths.length <= 1) return paths;\n  return paths.reduce(function (paths, current) {\n    paths = paths.filter(function (p) {\n      return !inPath(current, p);\n    });\n    if (!paths.some(function (p) {\n      return inPath(p, current);\n    })) paths.push(current);\n    return paths;\n  }, []);\n}\n\nfunction trim(rootPath, pathHash, exact) {\n  if (exact === void 0) {\n    exact = false;\n  }\n\n  var workDone = false;\n  var result = {};\n  var matches = exact ? function (p) {\n    return p === rootPath;\n  } : function (p) {\n    return inPath(rootPath, p);\n  };\n  Object.keys(pathHash).forEach(function (path) {\n    if (matches(path)) {\n      return workDone = true;\n    }\n\n    result[path] = pathHash[path];\n  });\n  return workDone ? result : pathHash;\n}","map":null,"metadata":{},"sourceType":"script"}