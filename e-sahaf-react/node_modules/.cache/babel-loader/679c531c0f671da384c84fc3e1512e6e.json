{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _uniqMessage = _interopRequireDefault(require(\"./utils/uniqMessage\"));\n\nvar _ErrorUtils = require(\"./utils/ErrorUtils\");\n\nvar _Contexts = require(\"./Contexts\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar flatten = function flatten(arr, next) {\n  return arr.concat(next);\n};\n/**\n * Represents a Form validation error message. Only renders when the\n * value that it is `for` is invalid.\n *\n * @alias FormMessage\n */\n\n\nvar Message =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Message, _React$Component);\n\n  function Message() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Message.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        errors = _this$props.errors,\n        names = _this$props.for,\n        className = _this$props.className,\n        _this$props$extract = _this$props.extract,\n        extract = _this$props$extract === void 0 ? function (error) {\n      return error.message || error;\n    } : _this$props$extract,\n        _this$props$filter = _this$props.filter,\n        filter = _this$props$filter === void 0 ? _uniqMessage.default : _this$props$filter,\n        _this$props$children = _this$props.children,\n        children = _this$props$children === void 0 ? function (errors, props) {\n      return _react.default.createElement(\"span\", props, errors.join(', '));\n    } : _this$props$children,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"errors\", \"for\", \"className\", \"extract\", \"filter\", \"children\"]);\n\n    errors = (0, _ErrorUtils.filterAndMapErrors)({\n      errors: errors,\n      names: names\n    });\n    if (!errors || !Object.keys(errors).length) return null;\n    return children(Object.values(errors).reduce(flatten, []).filter(function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return filter.apply(void 0, args.concat([extract]));\n    }).map(extract), _extends({}, props, {\n      className: className\n    }));\n  };\n\n  return Message;\n}(_react.default.Component);\n\nMessage.propTypes = {\n  for: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.arrayOf(_propTypes.default.string)]),\n  formKey: _propTypes.default.string,\n\n  /**\n   * A function that maps an array of message strings\n   * and returns a renderable string or ReactElement.\n   *\n   * ```js\n   * <Message>\n   *  {errors => errors.join(', ')}\n   * </Message>\n   * ```\n   */\n  children: _propTypes.default.func,\n\n  /**\n   * Map the passed in message object for the field to a string to display\n   */\n  extract: _propTypes.default.func,\n  filter: _propTypes.default.func\n};\n\nvar _default = (0, _Contexts.withState)(function (_ref, props) {\n  var errors = _ref.errors;\n  return _react.default.createElement(Message, _extends({\n    errors: errors\n  }, props));\n}, _Contexts.FORM_DATA.errors);\n\nexports.default = _default;\nmodule.exports = exports[\"default\"];","map":null,"metadata":{},"sourceType":"script"}